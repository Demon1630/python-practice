# -*- coding: UTF-8 ...nbm';
import re
import time

import requests
from bs4 import BeautifulSoup
from  fake_useragent import UserAgent
import os
import telegram
# import schedule


# url = 'https://api.m.jd.com/?t=1638801972166&appid=sharkBean&functionId=pg_channel_page_data&body={"paramData":{"token":"dd2fb032-9fa3-493b-8cd0-0d57cd51812d"}}'
url = 'https://api.m.jd.com/client.action?functionId=signBeanAct&clientVersion=10.2.6&build=91563&client=android&partner=xiaomi001&oaid=0c5bf2652e3c331c&eid=eidA034d812281s3Cw2oIj7MS/2vIjSisqsEAAsNqZqd3u7iUfqVtmkrWJasZjXD6LpDMGhKwJbTl/qO19j42wDKufDVIIMFUCBbLM1W/mfko5thZEIx&sdkVersion=29&lang=zh_CN&harmonyOs=0&networkType=wifi&uts=0f31TVRjBSsqndu4%2FjgUPz6uymy50MQJ4TbFGRD4i%2BihHXTeELcltjSCFS56%2F96mDVEA9Ft3ftHwpsgqcDtksUNlg0GREqe8rUhYN3UQtPW0xYEGcpSqNwkgCTV5VZro9U3kihpEIXEhtSZNmR39tIohzXYwsupohHQmwixFaGWO2AZAW%2B49b%2FgHUS9XnX9RCow7pZfBUyOIWEQmcf40FA%3D%3D&uemps=0-0&ext=%7B%22prstate%22%3A%220%22%7D&ef=1&ep=%7B%22hdid%22%3A%22JM9F1ywUPwflvMIpYPok0tt5k9kW4ArJEU3lfLhxBqw%3D%22%2C%22ts%22%3A1638801526513%2C%22ridx%22%3A-1%2C%22cipher%22%3A%7B%22area%22%3A%22CJdpCJC4CV8zCNc5XzUmDzcy%22%2C%22d_model%22%3A%22JUu4%22%2C%22wifiBssid%22%3A%22EWC4EQO4EJU0DJO2DzU1YtS5YwYyENc4CJSnCNc2YJG%3D%22%2C%22osVersion%22%3A%22CJK%3D%22%2C%22d_brand%22%3A%22WQvrb21f%22%2C%22screen%22%3A%22CtOnDIenCNqm%22%2C%22uuid%22%3A%22YzK5YJOmCzLvEQCyYtqmCK%3D%3D%22%2C%22aid%22%3A%22YzK5YJOmCzLvEQCyYtqmCK%3D%3D%22%2C%22openudid%22%3A%22YzK5YJOmCzLvEQCyYtqmCK%3D%3D%22%7D%2C%22ciphertype%22%3A5%2C%22version%22%3A%221.2.0%22%2C%22appname%22%3A%22com.jingdong.app.mall%22%7D&st=1638802859459&sign=90e03bf70b61b79ff9b44781d900bded&sv=102'

headers = {
    # 'cookie':'wskey=AAJgWeAFAEBydYtpcE__YB4YCVUNTc67Ncda5kbwIf144kqCaOZ2isUF0Dz1TGGQJ-1vzhWaLB6LdM_IfOaQC4RDNtxa-8gp;whwswswws=JD012145b9xelgXeEseh163880281847602ZjgPa5MtOKZfjk0hwjyz8RaeKVQs8EbXX3aFpjQz0Zs1ncr1wv~bsByonIX9zs8WKP0Geo97MP6eCTRq6pXXk2Y5g6A3vMFxiXCK5RQ9SbegvV1MTu9rzU5QbnHgmsRm2zDE2hKlyg==;unionwsws={"devicefinger":"eidA034d812281s3Cw2oIj7MS\/2vIjSisqsEAAsNqZqd3u7iUfqVtmkrWJasZjXD6LpDMGhKwJbTl\/qO19j42wDKufDVIIMFUCBbLM1W\/mfko5thZEIx","jmafinger":"JD012145b9xelgXeEseh163880281847602ZjgPa5MtOKZfjk0hwjyz8RaeKVQs8EbXX3aFpjQz0Zs1ncr1wv~bsByonIX9zs8WKP0Geo97MP6eCTRq6pXXk2Y5g6A3vMFxiXCK5RQ9SbegvV1MTu9rzU5QbnHgmsRm2zDE2hKlyg=="};pin_hash=1809639538;J-E-C: %7B%22hdid%22%3A%22JM9F1ywUPwflvMIpYPok0tt5k9kW4ArJEU3lfLhxBqw%3D%22%2C%22ts%22%3A1638801523558%2C%22ridx%22%3A-1%2C%22cipher%22%3A%7B%22pin%22%3A%22awHpDNc1YzC2CNO1CJY0Zq%3D%3D%22%7D%2C%22ciphertype%22%3A5%2C%22version%22%3A%221.2.0%22%2C%22appname%22%3A%22com.jingdong.app.mall%22%7DJ-E-H: %7B%22hdid%22%3A%22JM9F1ywUPwflvMIpYPok0tt5k9kW4ArJEU3lfLhxBqw%3D%22%2C%22ts%22%3A1638801523559%2C%22ridx%22%3A-1%2C%22cipher%22%3A%7B%22user-agent%22%3A%22b2jedRHmBzCkCJSkCJjgZQ1rbQm7YW5ucw9fZNj2ZXTzaW9kBzOmBtSkDtjsdWviZM85CJU2CzjzY3TvZW4lCJK4CRqyCJO1E29zBzOmEm%3D%3D%22%7D%2C%22ciphertype%22%3A5%2C%22version%22%3A%221.2.0%22%2C%22appname%22%3A%22com.jingdong.app.mall%22%7D',
    # 'cookie':'mba_muid=16328165519261007732204; webp=1; shshshfpa=917a5994-b871-d5b1-a37a-a72996c03de4-1632816557; visitkey=42075572647941658; shshshfpb=eoir1NHjb6II6uGq6LwJkHg==; __jdu=16328165519261007732204; __jdv=122270672|direct|-|none|-|1638716059657; __jdc=122270672; ipLoc-djd=7-538-541-0; areaId=7; wxa_level=1; retina=1; jxsid=16388016404657887987; __jda=122270672.16328165519261007732204.1632816551.1638794603.1638801640.17; 3AB9D23F7A4B3C9B=IABGRKC6RQXNGXVTIOITU7EN2SOWS6VOQHVMUUDULAJC6OA4ROKZC2ATUMEFTJ6QSXD3YPVHORIY7JOM2KP3Y74JDQ; TrackerID=ijLpkEDt9ZztAXgABOphurfnLiF3NTKkmbn1qk1CNneLbsfMdJM7rkJvsjtx3bn4xDNR5JM9WueNHX08GyMTWvjfzu143bgnaUFhNkCCsGk; pt_key=AAJhriEXADAZy4LLvWiYgDpcSub4rmVdYNC3yDbnPxX6zxlNdxX9w14-oizAbkkKqfQel3szsBg; pt_pin=jd_475c36015164f; pt_token=vgaqlsnn; pwdt_id=jd_475c36015164f; sfstoken=tk01md1dd1d44a8sMXgyeDN0ZmRLopKtwKtzAAp25arEYZIoq6DbOLua2E1afNXbT3vCau8HktWb0vcXFsxOpzzmt0a5; PPRD_P=UUID.16328165519261007732204; erp=; source_module=; shareChannel=; share_gpin=; share_open_id=; share_cpin=; sc_width=1707; shshshfp=ad239730f17c99d2aa05496c94dbbaec; cid=3; __wga=1638802557590.1638801690310.1632831855158.1632816556407.10.3; jxsid_s_u=https://wqs.jd.com/wxsq_project/portal/m_category/index.shtml; jxsid_s_t=1638802557618; shshshsID=6608518e4e23b1dcfa9813d242b3b689_15_1638802557706; wq_area=7_538_541|1; wqmnx1=MDEyNjM1MnQvam1hc290b192cz9pNzc2MW9hIGROLmkgIGVpNyhMa2NDZTA0U2kuNGY3bjI0MllPT1UhSCU=; __jdb=122270672.22.16328165519261007732204|17.1638801640; mba_sid=16388016405449644378407563242.22; __jd_ref_cls=MHome_BIcons; qid_uid=328cb842-da2d-4bd4-9b05-17e49c7823db; qid_fs=1638802566943; qid_ls=1638802566943; qid_ts=1638802566950; qid_sq=1; qid_sid=328cb842-da2d-4bd4-9b05-17e49c7823db-1; qid_ad=u.jr.jd.com||jdd||0',
    'cookie':'abtest=20210928160911055_30; mba_muid=16328165519261007732204; webp=1; shshshfpa=917a5994-b871-d5b1-a37a-a72996c03de4-1632816557; visitkey=42075572647941658; shshshfpb=eoir1NHjb6II6uGq6LwJkHg==; whwswswws=; __jdu=16328165519261007732204; __jdc=122270672; areaId=7; ipLoc-djd=7-538-541-0; wxa_level=1; retina=1; jxsid=16388016404657887987; jcap_dvzw_fp=Hnrt4_gUnHvRMHaeQ8Z4ivWIlsot39Gm3SrU4Qd_GBphf0gOwE5b3LvMDGulWK2NF2lIEQ==; TrackerID=ijLpkEDt9ZztAXgABOphurfnLiF3NTKkmbn1qk1CNneLbsfMdJM7rkJvsjtx3bn4xDNR5JM9WueNHX08GyMTWvjfzu143bgnaUFhNkCCsGk; pt_key=AAJhriEXADAZy4LLvWiYgDpcSub4rmVdYNC3yDbnPxX6zxlNdxX9w14-oizAbkkKqfQel3szsBg; pt_pin=jd_475c36015164f; pt_token=vgaqlsnn; pwdt_id=jd_475c36015164f; sfstoken=tk01md1dd1d44a8sMXgyeDN0ZmRLopKtwKtzAAp25arEYZIoq6DbOLua2E1afNXbT3vCau8HktWb0vcXFsxOpzzmt0a5; PPRD_P=UUID.16328165519261007732204; source_module=; erp=; shareChannel=; share_gpin=; share_open_id=; share_cpin=; sc_width=1707; cid=3; __wga=1638802557590.1638801690310.1632831855158.1632816556407.10.3; jxsid_s_t=1638802557618; jxsid_s_u=https://wqs.jd.com/wxsq_project/portal/m_category/index.shtml; wq_area=7_538_541|1; wqmnx1=MDEyNjM1MnQvam1hc290b192cz9pNzc2MW9hIGROLmkgIGVpNyhMa2NDZTA0U2kuNGY3bjI0MllPT1UhSCU=; autoOpenApp_downCloseDate_jd_homePage=1638802561771_1; __jd_ref_cls=MHome_BIcons; __jdv=122270672|google|AmericaBrandC013|cpc|not set|1638804620473; __jda=122270672.16328165519261007732204.1632816551.1638801640.1638804620.18; shshshfp=336cf18cef0e30ab7b3a0ee78a57acd5; user-key=ca96824e-9c83-4bea-86a2-9630033ac4cd; wlfstk_smdl=s6c8mppw56vku797hk736ng6j4asz90s; TrackID=1DfgrqMT_c8UA69i-XGYuwfjC9CF3iWiTPBvDFIE-fsmgE6qSIGyW9UrSaXRcxH-SdbpJsToZ1NeZaL5aZmZf4pE9urfh6dnYepeIrn6Voe4; thor=68F29D7EA54B30502833381BE9AB536E66FD3B794A6F1B9F45E7E63A45E012D192D779E5C5A049DCE449ABF2BA47CEFD82FA0BA87A281133F4126BAF6CAA642B960322FD5E5503060D72399050A265CF444F686FF0D52D1DE05F2B67E6B67B94C4E7FF566CC6959622765E8FD5F99BA9F9B2EA8E0C4BB1235F97097C556EC236DCA201D82D09E5B0F504269F8493F95ED544F6F3CD26DEB5216258F131FD9305; pinId=LMVpsqOgNOTWvEk9aY-D67V9-x-f3wj7; pin=jd_475c36015164f; unick=jd_187795mwz; ceshi3.com=103; _tp=CplogIhqs/mf/xpddOpKplXsPnoMHq8RhejZy+9djOg=; logining=1; _pst=jd_475c36015164f; __jdb=122270672.4.16328165519261007732204|18.1638804620; shshshsID=557b4679b2c40dbc23c5d9f3d0ad6e99_2_1638804759166; TARGET_UNIT=bjcenter; cn=32; 3AB9D23F7A4B3C9B=IABGRKC6RQXNGXVTIOITU7EN2SOWS6VOQHVMUUDULAJC6OA4ROKZC2ATUMEFTJ6QSXD3YPVHORIY7JOM2KP3Y74JDQ',
    'Connection': 'Keep-Alive',
    'Charset': 'UTF-8',
    'Accept-Encoding': 'br,gzip,deflate',
    'user-agent': 'okhttp/3.12.1;jdmall;android;version/10.2.6;build/91563;',
    'Cache-Control': 'no-cache',
    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
    'Content-Length': '341',
    'Host': 'api.m.jd.com',
}

key = {
    'body':'%7B%22eid%22%3A%22eidA034d812281s3Cw2oIj7MS%2F2vIjSisqsEAAsNqZqd3u7iUfqVtmkrWJasZjXD6LpDMGhKwJbTl%2FqO19j42wDKufDVIIMFUCBbLM1W%2Fmfko5thZEIx%22%2C%22fp%22%3A%22-1%22%2C%22jda%22%3A%22-1%22%2C%22referUrl%22%3A%22-1%22%2C%22rnVersion%22%3A%224.7%22%2C%22shshshfp%22%3A%22-1%22%2C%22shshshfpa%22%3A%22-1%22%2C%22userAgent%22%3A%22-1%22%7D&',
}

response = requests.post(url=url,headers=headers,json=key)

print(response.status_code)
print(response.text)
